from dali_movie.dali_movie import Dali_movie, MODE, ANCHOR_TYPE
from moviepy.audio.AudioClip import AudioClip

#INIT
font_path = "./dali_movie/resources/arial.TTF"
dali_movie = Dali_movie(font_path)

#SCRIPT
clip1 = dali_movie.importVideo("clip1", "./clip1.mp4")
introSound = dali_movie.importAudio("introSound", "intro_sound.mp3")
clip1a = dali_movie.cut("clip1a", clip1, 19, 107)
clip1b = dali_movie.cut_start("clip1b", clip1, 14224)
clip1c = dali_movie.cut_end("clip1c", clip1, 23)
dali_movie.add(clip1)
dali_movie.add(clip1a, mode=MODE.START, anchor_type="after", offset=2, reference=clip1)
dali_movie.add(clip1b, mode=MODE.END, anchor_type="before", offset=3, reference=clip1)
dali_movie.add(clip1c, mode=MODE.START, anchor_type="after", reference=clip1a)
dali_movie.add(introSound)
introSound_2s_1m12s = dali_movie.cut("introSound_2s_1m12s", introSound, 2, 72)
dali_movie.add(introSound_2s_1m12s)
dali_movie.add(introSound, mode=MODE.START, anchor_type="after", offset=2, reference=clip1)
introSound_start_1m12s = dali_movie.cut_start("introSound_start_1m12s", introSound, 72)
dali_movie.add(introSound_start_1m12s, mode=MODE.START, anchor_type="at", reference=clip1)
dali_movie.add(introSound, mode=MODE.END, anchor_type="before", offset=3, reference=clip1)
introSound_end_26s = dali_movie.cut_end("introSound_end_26s", introSound, 26)
dali_movie.add(introSound_end_26s, mode=MODE.END, anchor_type="before", offset=3, reference=clip1)
dali_movie.add(introSound, mode=MODE.START, anchor_type="after", reference=clip1a)
testTitle1 = dali_movie.text("testTitle1", "\"test\"", duration=15, backgroundColor=BLACK, textColor=RED, position=(1, 0.25))
testTitle2 = dali_movie.text("testTitle2", "test2", duration=8)
dali_movie.add(testTitle1)
dali_movie.add(testTitle2, mode=MODE.START, anchor_type="after", reference=testTitle1)
text_da7e42b4_ee70_4b61_87eb_2e7deb0968d5 = dali_movie.text("text_da7e42b4_ee70_4b61_87eb_2e7deb0968d5", "test title", duration=10)
dali_movie.add(text_da7e42b4_ee70_4b61_87eb_2e7deb0968d5)
testTitle3 = dali_movie.text("testTitle3", "test title", duration=10)
dali_movie.add(testTitle3)
text_e2711e7e_4321_4778_ac58_bfe6da285eba = dali_movie.text("text_e2711e7e_4321_4778_ac58_bfe6da285eba", "test title2", duration=10)
dali_movie.add(text_e2711e7e_4321_4778_ac58_bfe6da285eba, mode=MODE.END, anchor_type="before", reference=clip1)
testTitle4 = dali_movie.text("testTitle4", "test title2", duration=10)
dali_movie.add(testTitle4, mode=MODE.END, anchor_type="before", reference=clip1)
text_80211c84_9837_4192_8018_f0b2f0ad5d40 = dali_movie.text("text_80211c84_9837_4192_8018_f0b2f0ad5d40", "test title3", duration=10)
dali_movie.add(text_80211c84_9837_4192_8018_f0b2f0ad5d40, mode=MODE.START, anchor_type="after", offset=2, reference=clip1a)
testTitle5 = dali_movie.text("testTitle5", "test title3", duration=10)
dali_movie.add(testTitle5, mode=MODE.START, anchor_type="after", offset=2, reference=clip1a)
text_85402a37_da64_43bd_a381_dcfd287110af = dali_movie.text("text_85402a37_da64_43bd_a381_dcfd287110af", "test subtitle", duration=10)
dali_movie.add(text_85402a37_da64_43bd_a381_dcfd287110af)
testSubTitle = dali_movie.text("testSubTitle", "test subtitle", duration=10)
dali_movie.add(testSubTitle)
text_14c333cd_a8d7_4ea1_94cc_6402fc444bb9 = dali_movie.text("text_14c333cd_a8d7_4ea1_94cc_6402fc444bb9", "test subtitle2", duration=10)
dali_movie.add(text_14c333cd_a8d7_4ea1_94cc_6402fc444bb9, mode=MODE.END, anchor_type="before", reference=clip1)
testSubTitle2 = dali_movie.text("testSubTitle2", "test subtitle2", duration=10)
dali_movie.add(testSubTitle2, mode=MODE.END, anchor_type="before", reference=clip1)
text_cd8075d2_3744_4f01_8838_fdb5ad1ea668 = dali_movie.text("text_cd8075d2_3744_4f01_8838_fdb5ad1ea668", "test subtitle3", duration=10)
dali_movie.add(text_cd8075d2_3744_4f01_8838_fdb5ad1ea668, mode=MODE.START, anchor_type="after", offset=2, reference=clip1a)
testSubTitle3 = dali_movie.text("testSubTitle3", "test subtitle3", duration=10)
dali_movie.add(testSubTitle3, mode=MODE.START, anchor_type="after", offset=2, reference=clip1a)

dali_movie.export("./output.mp4")
