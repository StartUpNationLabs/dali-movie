from dali_movie.dali_movie import Dali_movie, MODE, ANCHOR_TYPE
from moviepy.audio.AudioClip import AudioClip

#INIT
font_path = "./dali_movie/resources/arial.TTF"
dali_movie = Dali_movie(font_path)

#SCRIPT
clip1 = dali_movie.importVideo("./clip1.mp4")
introSound = dali_movie.importAudio("intro_sound.mp3")
clip1a = dali_movie.cut(clip1, 19, 107)
clip1b = dali_movie.cut_start(clip1, 14224)
clip1c = dali_movie.cut_end(clip1, 23)
dali_movie.add(clip1)
dali_movie.add(clip1a, mode=MODE.START, anchor_type="after", offset=2, reference=clip1)
dali_movie.add(clip1b, mode=MODE.END, anchor_type="before", offset=3, reference=clip1)
dali_movie.add(clip1c, mode=MODE.START, anchor_type="after", reference=clip1a)
dali_movie.add(introSound)
introSound_2s_1m12s = dali_movie.cut(introSound, 2, 72)
dali_movie.add(introSound_2s_1m12s)
dali_movie.add(introSound, mode=MODE.START, anchor_type="after", offset=2, reference=clip1)
introSound_start_1m12s = dali_movie.cut_start(introSound, 72)
dali_movie.add(introSound_start_1m12s, mode=MODE.START, anchor_type="at", reference=clip1)
dali_movie.add(introSound, mode=MODE.END, anchor_type="before", offset=3, reference=clip1)
introSound_end_26s = dali_movie.cut_end(introSound, 26)
dali_movie.add(introSound_end_26s, mode=MODE.END, anchor_type="before", offset=3, reference=clip1)
dali_movie.add(introSound, mode=MODE.START, anchor_type="after", reference=clip1a)
testTitle1 = dali_movie.text("\"test\"", duration=15, backgroundColor=BLACK, textColor=RED, position=(1, 0.25))
testTitle2 = dali_movie.text("test2", duration=8)
dali_movie.add(testTitle1)
dali_movie.add(testTitle2, mode=MODE.START, anchor_type="after", reference=testTitle1)
var_130197f5_652f_4d8a_9f72_3947c0b4c566 = dali_movie.text("test title", duration=10)
dali_movie.add(var_130197f5_652f_4d8a_9f72_3947c0b4c566)
testTitle3 = dali_movie.text("test title", duration=10)
dali_movie.add(testTitle3)
var_2d0b1cde_4bd3_4ee7_b38b_0668f73c80c1 = dali_movie.text("test title2", duration=10)
dali_movie.add(var_2d0b1cde_4bd3_4ee7_b38b_0668f73c80c1, mode=MODE.END, anchor_type="before", reference=clip1)
testTitle4 = dali_movie.text("test title2", duration=10)
dali_movie.add(testTitle4, mode=MODE.END, anchor_type="before", reference=clip1)
var_3813c231_6098_4ae7_a883_db55daa4a0a0 = dali_movie.text("test title3", duration=10)
dali_movie.add(var_3813c231_6098_4ae7_a883_db55daa4a0a0, mode=MODE.START, anchor_type="after", offset=2, reference=clip1a)
testTitle5 = dali_movie.text("test title3", duration=10)
dali_movie.add(testTitle5, mode=MODE.START, anchor_type="after", offset=2, reference=clip1a)
var_1c60102e_4f02_4921_ac5f_18e7f213391c = dali_movie.text("test subtitle", duration=10)
dali_movie.add(var_1c60102e_4f02_4921_ac5f_18e7f213391c)
testSubTitle = dali_movie.text("test subtitle", duration=10)
dali_movie.add(testSubTitle)
var_596e1107_e416_48d8_8e21_b883c1fc5fcd = dali_movie.text("test subtitle2", duration=10)
dali_movie.add(var_596e1107_e416_48d8_8e21_b883c1fc5fcd, mode=MODE.END, anchor_type="before", reference=clip1)
testSubTitle2 = dali_movie.text("test subtitle2", duration=10)
dali_movie.add(testSubTitle2, mode=MODE.END, anchor_type="before", reference=clip1)
var_691a4db9_19a5_47fc_a0c1_379b5c22ebea = dali_movie.text("test subtitle3", duration=10)
dali_movie.add(var_691a4db9_19a5_47fc_a0c1_379b5c22ebea, mode=MODE.START, anchor_type="after", offset=2, reference=clip1a)
testSubTitle3 = dali_movie.text("test subtitle3", duration=10)
dali_movie.add(testSubTitle3, mode=MODE.START, anchor_type="after", offset=2, reference=clip1a)

dali_movie.export("./output.mp4")
